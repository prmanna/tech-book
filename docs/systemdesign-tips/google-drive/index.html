<!doctype html><html lang=en dir=ltr><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="1. Gathering System Requirements # As with any systems design interview question, the first thing that we want to do is to gather system requirements; we need to figure out what system we&rsquo;re building exactly.
We&rsquo;re designing the core user flow of the Google Drive web application. This consists of storing two main entities: folders and files. More specifically, the system should allow users to create folders, upload and download files, and rename and move entities once they&rsquo;re stored."><meta name=theme-color content="#FFFFFF"><meta name=color-scheme content="light dark"><meta property="og:title" content="Google Drive - Design"><meta property="og:description" content="1. Gathering System Requirements # As with any systems design interview question, the first thing that we want to do is to gather system requirements; we need to figure out what system we&rsquo;re building exactly.
We&rsquo;re designing the core user flow of the Google Drive web application. This consists of storing two main entities: folders and files. More specifically, the system should allow users to create folders, upload and download files, and rename and move entities once they&rsquo;re stored."><meta property="og:type" content="article"><meta property="og:url" content="https://prasenjitmanna.com/tech-book/docs/systemdesign-tips/google-drive/"><meta property="article:section" content="docs"><meta property="article:modified_time" content="2024-08-17T20:40:44+05:30"><title>Google Drive - Design | Technical Book</title><link rel=manifest href=/tech-book/manifest.json><link rel=icon href=/tech-book/favicon.png type=image/x-icon><link rel=stylesheet href=/tech-book/book.min.46181bc93375ba932026e753b37c40e6ff8bb16a9ef770c78bcc663e4577b1ba.css integrity="sha256-RhgbyTN1upMgJudTs3xA5v+LsWqe93DHi8xmPkV3sbo=" crossorigin=anonymous><script defer src=/tech-book/flexsearch.min.js></script>
<script defer src=/tech-book/en.search.min.28819670a2892fb3d33d77a83512e4aa54a170c1c2f0e134415396bc17c6df71.js integrity="sha256-KIGWcKKJL7PTPXeoNRLkqlShcMHC8OE0QVOWvBfG33E=" crossorigin=anonymous></script></head><body dir=ltr><input type=checkbox class="hidden toggle" id=menu-control>
<input type=checkbox class="hidden toggle" id=toc-control><main class="container flex"><aside class=book-menu><div class=book-menu-content><nav><h2 class=book-brand><a class="flex align-center" href=/tech-book/><img src=/tech-book/logo.png alt=Logo><span>Technical Book</span></a></h2><div class=book-search><input type=text id=book-search-input placeholder=Search aria-label=Search maxlength=64 data-hotkeys=s/><div class="book-search-spinner hidden"></div><ul id=book-search-results></ul></div><ul><li><input type=checkbox id=section-232570efc8b96bb3248f09eff5a0c637 class=toggle>
<label for=section-232570efc8b96bb3248f09eff5a0c637 class="flex justify-between"><a href=https://prasenjitmanna.com/tech-book/docs/5g/>5G</a></label><ul><li><input type=checkbox id=section-f5a9850966a88f56644d900374167b30 class=toggle>
<label for=section-f5a9850966a88f56644d900374167b30 class="flex justify-between"><a href=https://prasenjitmanna.com/tech-book/docs/5g/5g-intro/>An Overview of 5G Networking</a></label></li></ul></li><li><input type=checkbox id=section-374f93193c235d5a59a63115829f835e class=toggle>
<label for=section-374f93193c235d5a59a63115829f835e class="flex justify-between"><a href=https://prasenjitmanna.com/tech-book/docs/algorithms/>Algorithms</a></label><ul><li><input type=checkbox id=section-f6b4293ac79e9f284ef5649e49e3639f class=toggle>
<label for=section-f6b4293ac79e9f284ef5649e49e3639f class="flex justify-between"><a href=https://prasenjitmanna.com/tech-book/docs/algorithms/breadth-first-search/>Breadth First Search</a></label></li><li><input type=checkbox id=section-2f77d5839f14fc16598e51884edf9cc7 class=toggle>
<label for=section-2f77d5839f14fc16598e51884edf9cc7 class="flex justify-between"><a href=https://prasenjitmanna.com/tech-book/docs/algorithms/depth-first-search/>Depth First Search</a></label></li><li><input type=checkbox id=section-8729b110b30a06da65be45e52f9e3fb7 class=toggle>
<label for=section-8729b110b30a06da65be45e52f9e3fb7 class="flex justify-between"><a href=https://prasenjitmanna.com/tech-book/docs/algorithms/easy/>Easy Complexity</a></label></li><li><input type=checkbox id=section-ca21930662bb4a3bb727e300c49e2d9e class=toggle>
<label for=section-ca21930662bb4a3bb727e300c49e2d9e class="flex justify-between"><a href=https://prasenjitmanna.com/tech-book/docs/algorithms/priority-queue-and-heap/>Priority Queue and Heap</a></label></li><li><input type=checkbox id=section-099794dc84dde9d1e65baa1aa530d340 class=toggle>
<label for=section-099794dc84dde9d1e65baa1aa530d340 class="flex justify-between"><a href=https://prasenjitmanna.com/tech-book/docs/algorithms/two-pointers/>Two Pointers & Sliding Window</a></label></li><li><input type=checkbox id=section-df4c4c540e3dcef48dcd2d00c3965057 class=toggle>
<label for=section-df4c4c540e3dcef48dcd2d00c3965057 class="flex justify-between"><a href=https://prasenjitmanna.com/tech-book/docs/algorithms/medium/>Medium Complexity</a></label></li></ul></li><li><input type=checkbox id=section-c0873fdd42e1c17c1e07645e6ab51cc6 class=toggle>
<label for=section-c0873fdd42e1c17c1e07645e6ab51cc6 class="flex justify-between"><a href=https://prasenjitmanna.com/tech-book/docs/data-center/>Data Center Tips</a></label><ul><li><input type=checkbox id=section-7de7e0e7a732dcd5af373b8a4695c431 class=toggle>
<label for=section-7de7e0e7a732dcd5af373b8a4695c431 class="flex justify-between"><a href=https://prasenjitmanna.com/tech-book/docs/data-center/data-center-ethernet/>Data Center Ethernet</a></label></li><li><input type=checkbox id=section-b410e2827c97ad7292e88e649356e4bb class=toggle>
<label for=section-b410e2827c97ad7292e88e649356e4bb class="flex justify-between"><a href=https://prasenjitmanna.com/tech-book/docs/data-center/data-center-technologies/>Data Center Technologies</a></label></li><li><input type=checkbox id=section-5fb5e49b75a1392bd1df5174b0e2401c class=toggle>
<label for=section-5fb5e49b75a1392bd1df5174b0e2401c class="flex justify-between"><a href=https://prasenjitmanna.com/tech-book/docs/data-center/data-center-network-virtualization/>Network Virtualization in Cloud Data Centers</a></label></li></ul></li><li><input type=checkbox id=section-7e26b4da67ddfd3aaa6c31b6861a89ab class=toggle>
<label for=section-7e26b4da67ddfd3aaa6c31b6861a89ab class="flex justify-between"><a href=https://prasenjitmanna.com/tech-book/docs/manageability/>Manageability</a></label><ul><li><input type=checkbox id=section-207ca266e79d5be472b6432e1fb17bc9 class=toggle>
<label for=section-207ca266e79d5be472b6432e1fb17bc9 class="flex justify-between"><a href=https://prasenjitmanna.com/tech-book/docs/manageability/why-grpc-on-http2/>gRPC on HTTP/2</a></label></li></ul></li><li><input type=checkbox id=section-fb52063de722764b4360edb4a8e12aac class=toggle>
<label for=section-fb52063de722764b4360edb4a8e12aac class="flex justify-between"><a href=https://prasenjitmanna.com/tech-book/docs/networking-tips/>Networking Tips</a></label><ul><li><input type=checkbox id=section-3b65d897ed3bc34cce40f2a1d6d28d35 class=toggle>
<label for=section-3b65d897ed3bc34cce40f2a1d6d28d35 class="flex justify-between"><a href=https://prasenjitmanna.com/tech-book/docs/networking-tips/dns/>DNS Overview</a></label></li><li><input type=checkbox id=section-c0c77ea3665f75e8725762e5f6c3df5f class=toggle>
<label for=section-c0c77ea3665f75e8725762e5f6c3df5f class="flex justify-between"><a href=https://prasenjitmanna.com/tech-book/docs/networking-tips/ecmp/>ECMP Load Balancing</a></label></li><li><input type=checkbox id=section-dc30cf31b9ee2ab33fa86f292b15cb2b class=toggle>
<label for=section-dc30cf31b9ee2ab33fa86f292b15cb2b class="flex justify-between"><a href=https://prasenjitmanna.com/tech-book/docs/networking-tips/ip-fragmentation/>IP Fragmentation - IPv4 & IPv6</a></label></li><li><input type=checkbox id=section-08ea5842f5de2b61898b3331283f5a5d class=toggle>
<label for=section-08ea5842f5de2b61898b3331283f5a5d class="flex justify-between"><a href=https://prasenjitmanna.com/tech-book/docs/networking-tips/ip-tos-dscp/>IP Precedence And TOS | DSCP</a></label></li><li><input type=checkbox id=section-934a356acff1a635e6cff30608c2b2c5 class=toggle>
<label for=section-934a356acff1a635e6cff30608c2b2c5 class="flex justify-between"><a href=https://prasenjitmanna.com/tech-book/docs/networking-tips/traceroute/>Linux traceroute tool</a></label></li><li><input type=checkbox id=section-3df6ef15c6f2aa5dd3d67f5088d745be class=toggle>
<label for=section-3df6ef15c6f2aa5dd3d67f5088d745be class="flex justify-between"><a href=https://prasenjitmanna.com/tech-book/docs/networking-tips/mlag/>Multi Chassis Link Aggregation Basics</a></label></li><li><input type=checkbox id=section-47cc7aa07b55b4be11fe16f855d483d8 class=toggle>
<label for=section-47cc7aa07b55b4be11fe16f855d483d8 class="flex justify-between"><a href=https://prasenjitmanna.com/tech-book/docs/networking-tips/qos/>QoS</a></label></li><li><input type=checkbox id=section-9b2532f62af98602d9328253e60fe7f9 class=toggle>
<label for=section-9b2532f62af98602d9328253e60fe7f9 class="flex justify-between"><a href=https://prasenjitmanna.com/tech-book/docs/networking-tips/spine-leaf-arch/>Spine-leaf Architecture Basics</a></label></li><li><input type=checkbox id=section-9ff3d0dfa529a2a96fb5ed7225cc4dd8 class=toggle>
<label for=section-9ff3d0dfa529a2a96fb5ed7225cc4dd8 class="flex justify-between"><a href=https://prasenjitmanna.com/tech-book/docs/networking-tips/tcp-congestion/>TCP Congestion Control</a></label></li><li><input type=checkbox id=section-51783042312781ff36e7ca917311f94a class=toggle>
<label for=section-51783042312781ff36e7ca917311f94a class="flex justify-between"><a href=https://prasenjitmanna.com/tech-book/docs/networking-tips/tcp-data-transfer/>TCP Data Transfer</a></label></li></ul></li><li><input type=checkbox id=section-746724fad2c8e9d350318e79703d5f7f class=toggle>
<label for=section-746724fad2c8e9d350318e79703d5f7f class="flex justify-between"><a href=https://prasenjitmanna.com/tech-book/docs/optical-knowledge/>Optical Knowledge</a></label><ul><li><input type=checkbox id=section-abfb4ee7d9cf521527116fca7206ee79 class=toggle>
<label for=section-abfb4ee7d9cf521527116fca7206ee79 class="flex justify-between"><a href=https://prasenjitmanna.com/tech-book/docs/optical-knowledge/optical-breakout/>Optical Transceiver(Grey) & Breakout Model</a></label></li></ul></li><li><input type=checkbox id=section-ea5c43baf485397e13cba9de36dde795 class=toggle>
<label for=section-ea5c43baf485397e13cba9de36dde795 class="flex justify-between"><a href=https://prasenjitmanna.com/tech-book/docs/programming-tips/>Programming Tips</a></label><ul><li><input type=checkbox id=section-15ee98aa89ade27055dc2c8d1cc12212 class=toggle>
<label for=section-15ee98aa89ade27055dc2c8d1cc12212 class="flex justify-between"><a href=https://prasenjitmanna.com/tech-book/docs/programming-tips/c++/>C++ Tips</a></label></li></ul></li><li><input type=checkbox id=section-e1ca16f5998b918e4e01f395e9c81195 class=toggle checked>
<label for=section-e1ca16f5998b918e4e01f395e9c81195 class="flex justify-between"><a href=https://prasenjitmanna.com/tech-book/docs/systemdesign-tips/>SystemDesign-Tips</a></label><ul><li><input type=checkbox id=section-cd24c01774f2ef0254c419c2af253650 class=toggle>
<label for=section-cd24c01774f2ef0254c419c2af253650 class="flex justify-between"><a href=https://prasenjitmanna.com/tech-book/docs/systemdesign-tips/code-deployment-system/>Design A Code-Deployment System</a></label></li><li><input type=checkbox id=section-9c8d84ec532d2a2d7bafc9a630fe088a class=toggle>
<label for=section-9c8d84ec532d2a2d7bafc9a630fe088a class="flex justify-between"><a href=https://prasenjitmanna.com/tech-book/docs/systemdesign-tips/stock-broker/>Design A Stock-Broker System</a></label></li><li><input type=checkbox id=section-0f676c3118d30de407a723723e27de91 class=toggle>
<label for=section-0f676c3118d30de407a723723e27de91 class="flex justify-between"><a href=https://prasenjitmanna.com/tech-book/docs/systemdesign-tips/design-amazon/>Design Amazon</a></label></li><li><input type=checkbox id=section-de7910a662f896155a583da23f7844c9 class=toggle>
<label for=section-de7910a662f896155a583da23f7844c9 class="flex justify-between"><a href=https://prasenjitmanna.com/tech-book/docs/systemdesign-tips/design-slack/>Design Slack</a></label></li><li><input type=checkbox id=section-81d594663dd77ffbd855c8bfc64baf2e class=toggle checked>
<label for=section-81d594663dd77ffbd855c8bfc64baf2e class="flex justify-between"><a href=https://prasenjitmanna.com/tech-book/docs/systemdesign-tips/google-drive/ class=active>Google Drive - Design</a></label></li></ul></li></ul><ul><li><a href=/tech-book/posts/>Blog</a></li><li><a href=https://prasenjitmanna.com/tech-book/ target=_blank rel=noopener>Technical Book</a></li><li><a href=https://prasenjitmanna.com/ target=_blank rel=noopener>Prasenjit's blog</a></li><li><a href=https://prasenjitmanna.com/upskills/ target=_blank rel=noopener>Prasenjit's upskills</a></li></ul></nav><script>(function(){var e=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script></div></aside><div class=book-page><header class=book-header><div class="flex align-center justify-between"><label for=menu-control><img src=/tech-book/svg/menu.svg class=book-icon alt=Menu></label>
<strong>Google Drive - Design</strong>
<label for=toc-control><img src=/tech-book/svg/toc.svg class=book-icon alt="Table of Contents"></label></div><aside class="hidden clearfix"><nav id=TableOfContents><ul><li><ul><li><ul><li><a href=#1-gathering-system-requirements>1. Gathering System Requirements</a></li><li><a href=#2-coming-up-with-a-plan>2. Coming Up With A Plan</a></li><li><a href=#3-storing-entity-info>3. Storing Entity Info</a></li><li><a href=#4-storing-file-data>4. Storing File Data</a></li><li><a href=#5-entity-info-structure>5. Entity Info Structure</a></li><li><a href=#6-garbage-collection>6. Garbage Collection</a></li><li><a href=#7-end-to-end-api-flow>7. End To End API Flow</a></li><li><a href=#8-system-diagram>8. System Diagram</a></li></ul></li></ul></li></ul></nav></aside></header><article class=markdown><h3 id=1-gathering-system-requirements>1. Gathering System Requirements
<a class=anchor href=#1-gathering-system-requirements>#</a></h3><p>As with any systems design interview question, the first thing that we want to do is to gather system requirements; we need to figure out what system we&rsquo;re building exactly.</p><p>We&rsquo;re designing the core user flow of the <strong>Google Drive</strong> web application. This consists of storing two main entities: folders and files. More specifically, the system should allow users to create folders, upload and download files, and rename and move entities once they&rsquo;re stored. We don&rsquo;t have to worry about ACLs, sharing entities, or any other auxiliary Google Drive features.</p><p>We&rsquo;re going to be building this system at a very large scale, assuming 1 billion users, each with <strong>15GB</strong> of data stored in Google Drive on average. This adds up to approximately <strong>15,000 PB</strong> of data in total, without counting any metadata that we might store for each entity, like its name or its type.</p><p>We need this service to be <strong>Highly Available</strong> and also very redundant. No data that&rsquo;s successfully stored in Google Drive can ever be lost, even through catastrophic failures in an entire region of the world.</p><h3 id=2-coming-up-with-a-plan>2. Coming Up With A Plan
<a class=anchor href=#2-coming-up-with-a-plan>#</a></h3><p>It&rsquo;s important to organize ourselves and to lay out a clear plan regarding how we&rsquo;re going to tackle our design. What are the major, distinguishable components of our how system?</p><p>First of all, we&rsquo;ll need to support the following operations:</p><p>For Files</p><ul><li>UploadFile</li><li>DownloadFile</li><li>DeleteFile</li><li>RenameFile</li><li>MoveFile</li></ul><p>For Folders</p><ul><li>CreateFolder</li><li>GetFolder</li><li>DeleteFolder</li><li>RenameFolder</li><li>MoveFolder</li></ul><p>Secondly, we&rsquo;ll have to come up with a proper storage solution for two types of data:</p><p>File Contents: The contents of the files uploaded to Google Drive. These are opaque bytes with no particular structure or format.
Entity Info: The metadata for each entity. This might include fields like entityID, ownerID, lastModified, entityName, entityType. This list is non-exhaustive, and we&rsquo;ll most likely add to it later on.
Let&rsquo;s start by going over the storage solutions that we want to use, and then we&rsquo;ll go through what happens when each of the operations outlined above is performed.</p><h3 id=3-storing-entity-info>3. Storing Entity Info
<a class=anchor href=#3-storing-entity-info>#</a></h3><p>To store entity information, we can use key-value stores. Since we need high availability and data replication, we need to use something like Etcd, Zookeeper, or Google Cloud Spanner (as a K-V store) that gives us both of those guarantees as well as consistency (as opposed to DynamoDB, for instance, which would give us only eventual consistency).</p><p>Since we&rsquo;re going to be dealing with many gigabytes of entity information (given that we&rsquo;re serving a billion users), we&rsquo;ll need to shard this data across multiple clusters of these K-V stores. Sharding on entityID means that we&rsquo;ll lose the ability to perform batch operations, which these key-value stores give us out of the box and which we&rsquo;ll need when we move entities around (for instance, moving a file from one folder to another would involve editing the metadata of 3 entities; if they were located in 3 different shards that wouldn&rsquo;t be great). Instead, we can shard based on the ownerID of the entity, which means that we can edit the metadata of multiple entities atomically with a transaction, so long as the entities belong to the same user.</p><p>Given the traffic that this website needs to serve, we can have a layer of proxies for entity information, load balanced on a hash of the ownerID. The proxies could have some caching, as well as perform ACL checks when we eventually decide to support them. The proxies would live at the regional level, whereas the source-of-truth key-value stores would be accessed globally.</p><h3 id=4-storing-file-data>4. Storing File Data
<a class=anchor href=#4-storing-file-data>#</a></h3><p>When dealing with potentially very large uploads and data storage, it&rsquo;s often advantageous to split up data into blobs that can be pieced back together to form the original data. When uploading a file, the request will be load balanced across multiple servers that we&rsquo;ll call &ldquo;blob splitters&rdquo;, and these blob splitters will have the job of splitting files into blobs and storing these blobs in some global blob-storage solution like GCS or S3 (since we&rsquo;re designing Google Drive, it might not be a great idea to pick S3 over GCS :P).</p><p>One thing to keep in mind is that we need a lot of redundancy for the data that we&rsquo;re uploading in order to prevent data loss. So we&rsquo;ll probably want to adopt a strategy like: try pushing to 3 different GCS buckets and consider a write successful only if it went through in at least 2 buckets. This way we always have redundancy without necessarily sacrificing availability. In the background, we can have an extra service in charge of further replicating the data to other buckets in an async manner. For our main 3 buckets, we&rsquo;ll want to pick buckets in 3 different availability zones to avoid having all of our redundant storage get wiped out by potential catastrophic failures in the event of a natural disaster or huge power outage.</p><p>In order to avoid having multiple identical blobs stored in our blob stores, we&rsquo;ll name the blobs after a hash of their content. This technique is called Content-Addressable Storage, and by using it, we essentially make all blobs immutable in storage. When a file changes, we simply upload the entire new resulting blobs under their new names computed by hashing their new contents.</p><p>This immutability is very powerful, in part because it means that we can very easily introduce a caching layer between the blob splitters and the buckets, without worrying about keeping caches in sync with the main source of truth when edits are made&ndash;an edit just means that we&rsquo;re dealing with a completely different blob.</p><h3 id=5-entity-info-structure>5. Entity Info Structure
<a class=anchor href=#5-entity-info-structure>#</a></h3><p>Since folders and files will both have common bits of metadata, we can have them share the same structure. The difference will be that folders will have an is_folder flag set to true and a list of children_ids, which will point to the entity information for the folders and files within the folder in question. Files will have an is_folder flag set to false and a blobs field, which will have the IDs of all of the blobs that make up the data within the relevant file. Both entities can also have a parent_id field, which will point to the entity information of the entity&rsquo;s parent folder. This will help us quickly find parents when moving files and folders.</p><pre tabindex=0><code>`File Info`
`{`
  `blobs: [&#39;blob_content_hash_0&#39;, &#39;blob_content_hash_1&#39;],`
  `id: &#39;some_unique_entity_id&#39;`
  `is_folder: false,`
  `name: &#39;some_file_name&#39;,`
  `owner_id: &#39;id_of_owner&#39;,`
  `parent_id: &#39;id_of_parent&#39;,`
`}`
</code></pre><pre tabindex=0><code>`Folder Info`
`{`
  `children_ids: [&#39;id_of_child_0&#39;, &#39;id_of_child_1&#39;],`
  `id: &#39;some_unique_entity_id&#39;`
  `is_folder: true,`
  `name: &#39;some_folder_name&#39;,`
  `owner_id: &#39;id_of_owner&#39;,`
  `parent_id: &#39;id_of_parent&#39;,`
`}
</code></pre><p>`</p><h3 id=6-garbage-collection>6. Garbage Collection
<a class=anchor href=#6-garbage-collection>#</a></h3><p>Any change to an existing file will create a whole new blob and de-reference the old one. Furthermore, any deleted file will also de-reference the file&rsquo;s blobs. This means that we&rsquo;ll eventually end up with a lot of orphaned blobs that are basically unused and taking up storage for no reason. We&rsquo;ll need a way to get rid of these blobs to free some space.</p><p>We can have a Garbage Collection service that watches the entity-info K-V stores and keeps counts of the number of times every blob is referenced by files; these counts can be stored in a SQL table.</p><p>Reference counts will get updated whenever files are uploaded and deleted. When the reference count for a particular blob reaches 0, the Garbage Collector can mark the blob in question as orphaned in the relevant blob stores, and the blob will be safely deleted after some time if it hasn&rsquo;t been accessed.</p><h3 id=7-end-to-end-api-flow>7. End To End API Flow
<a class=anchor href=#7-end-to-end-api-flow>#</a></h3><p>Now that we&rsquo;ve designed the entire system, we can walk through what happens when a user performs any of the operations we listed above.</p><p>CreateFolder is simple; since folders don&rsquo;t have a blob-storage component, creating a folder just involves storing some metadata in our key-value stores.</p><p>UploadFile works in two steps. The first is to store the blobs that make up the file in the blob storage. Once the blobs are persisted, we can create the file-info object, store the blob-content hashes inside its blobs field, and write this metadata to our key-value stores.</p><p>DownloadFile fetches the file&rsquo;s metadata from our key-value stores given the file&rsquo;s ID. The metadata contains the hashes of all of the blobs that make up the content of the file, which we can use to fetch all of the blobs from blob storage. We can then assemble them into the file and save it onto local disk.</p><p>All of the Get, Rename, Move, and Delete operations atomically change the metadata of one or several entities within our key-value stores using the transaction guarantees that they give us.</p><h3 id=8-system-diagram>8. System Diagram
<a class=anchor href=#8-system-diagram>#</a></h3><p>Final Systems Architecture</p><p><img src=https://prasenjitmanna.com/tech-book/diagrams/google-drive-system-diagram.svg alt=img|320x271></p></article><footer class=book-footer><div class="flex flex-wrap justify-between"><div><a class="flex align-center" href=https://github.com/prmanna/tech-book/commit/19cf90f02171a235d5e850a23b1cf2736f684640 title='Last modified by Prasenjit Manna | August 17, 2024' target=_blank rel=noopener><img src=/tech-book/svg/calendar.svg class=book-icon alt=Calendar>
<span>August 17, 2024</span></a></div></div><script>(function(){function e(e){const t=window.getSelection(),n=document.createRange();n.selectNodeContents(e),t.removeAllRanges(),t.addRange(n)}document.querySelectorAll("pre code").forEach(t=>{t.addEventListener("click",function(){e(t.parentElement),navigator.clipboard&&navigator.clipboard.writeText(t.parentElement.textContent)})})})()</script></footer><div class=book-comments></div><label for=menu-control class="hidden book-menu-overlay"></label></div><aside class=book-toc><div class=book-toc-content><nav id=TableOfContents><ul><li><ul><li><ul><li><a href=#1-gathering-system-requirements>1. Gathering System Requirements</a></li><li><a href=#2-coming-up-with-a-plan>2. Coming Up With A Plan</a></li><li><a href=#3-storing-entity-info>3. Storing Entity Info</a></li><li><a href=#4-storing-file-data>4. Storing File Data</a></li><li><a href=#5-entity-info-structure>5. Entity Info Structure</a></li><li><a href=#6-garbage-collection>6. Garbage Collection</a></li><li><a href=#7-end-to-end-api-flow>7. End To End API Flow</a></li><li><a href=#8-system-diagram>8. System Diagram</a></li></ul></li></ul></li></ul></nav></div></aside></main></body></html>